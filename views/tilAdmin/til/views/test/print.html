<div class="layui-fluid" id="VIEW-test-index" lay-title="表单">

    <table class="layui-hide" id="test" lay-filter="test"></table>
    <script type="text/html" id="barDemo1">

    </script>


</div>
<script>
    layui.config({
        version: '1545041465443' //为了更新 js 缓存，可忽略
    });

    layui.use(['laydate', 'laypage', 'layer', 'form', 'table', 'carousel', 'upload', 'element', 'slider'], function() {
        var laydate = layui.laydate //日期
            ,
            laypage = layui.laypage //分页
            ,
            layer = layui.layer //弹层
            ,
            table = layui.table //表格
            ,
            carousel = layui.carousel //轮播
            ,
            upload = layui.upload //上传
            ,
            element = layui.element //元素操作
            ,
            slider = layui.slider //滑块
            ,
            form = layui.form,
            $ = layui.jquery;



        table.render({
            elem: '#test',
            skin: 'row' //行边框风格
                ,
            // even: true //开启隔行背景
            // ,
            size: 'sm', //小尺寸的表格
            // height: 420,
            url: '/json/table.json' //数据接口
                ,
            title: '用户表',
            page: false //开启分页
                ,
            height: 'full',
            cellMinWidth: 80,
            toolbar: '#barDemo1' //开启工具栏，此处显示默认图标，可以自定义模板，详见文档
                ,
            totalRow: true //开启合计行
                ,
            defaultToolbar: ['print'],
            cols: [
                [ //表头
                    {
                        type: 'checkbox',
                        fixed: 'left'
                    }, {
                        field: 'id',
                        title: 'ID',
                        sort: true,
                        fixed: 'left',
                        totalRowText: '合计：',
                        width: 80
                    }, {
                        title: '操作',
                        align: 'center',
                        toolbar: '#barDemo',
                        fixed: 'left',
                    }, {
                        field: 'username',
                        title: '用户名',
                    }, {
                        field: 'experience',
                        title: '积分',
                        sort: true,
                        totalRow: true,
                    }, {
                        field: 'sex',
                        title: '性别',
                        sort: true
                    }, {
                        field: 'score',
                        title: '评分',
                        sort: true,
                        totalRow: true
                    }, {
                        field: 'city',
                        title: '城市',
                    }, {
                        field: 'sign',
                        title: '签名',
                    }, {
                        field: 'classify',
                        title: '职业',
                    }, {
                        field: 'wealth',
                        title: '财富',
                        sort: true,
                        totalRow: true
                    },
                ]
            ],
            done: function(res, curr, count) {
                $('div[title="筛选列"]').hide();
                $('div[title="导出"]').hide();
                $('div[title="打印"]').trigger('click');
                var index = parent.layer.getFrameIndex(window.name);
                parent.layer.close(index); //关闭当前页
            }
        });
    });
</script>